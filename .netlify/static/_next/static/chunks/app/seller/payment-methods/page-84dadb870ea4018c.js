(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8198],{3412:(e,r,a)=>{Promise.resolve().then(a.bind(a,6914))},6914:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>i});var t=a(5155),o=a(2115),s=a(3805),n=a(1598),c=a(2651),l=a(5037);let i=()=>{let{user:e}=(0,s.U)(),[r,a]=(0,o.useState)([]),[i,d]=(0,o.useState)(!0),[u,m]=(0,o.useState)(!1),[g,x]=(0,o.useState)({type:"",category:"",country:"",currency:"",name:"",bankName:"",accountNumber:"",accountHolder:"",cbu:"",pix:"",walletAddress:"",network:"",instructions:"",minAmount:"",maxAmount:"",processingTime:""}),p=async()=>{try{let{data:e}=await c.A.get("/api/payment-methods",{withCredentials:!0});e.success?a(e.paymentMethods):l.Ay.error(e.message),d(!1)}catch(e){l.Ay.error("Error al cargar medios de pago"),d(!1)}},h=async e=>{e.preventDefault();try{let{data:e}=await c.A.post("/api/payment-methods",g,{withCredentials:!0});e.success?(l.Ay.success("Medio de pago creado exitosamente"),x({type:"",category:"",country:"",currency:"",name:"",bankName:"",accountNumber:"",accountHolder:"",cbu:"",pix:"",walletAddress:"",network:"",instructions:"",minAmount:"",maxAmount:"",processingTime:""}),m(!1),p()):l.Ay.error(e.message)}catch(e){l.Ay.error("Error al crear medio de pago")}},y=async e=>{if(confirm("\xbfEst\xe1s seguro de que quieres eliminar este medio de pago?"))try{let{data:r}=await c.A.delete("/api/payment-methods/".concat(e),{withCredentials:!0});r.success?(l.Ay.success("Medio de pago eliminado exitosamente"),p()):l.Ay.error(r.message)}catch(e){l.Ay.error("Error al eliminar medio de pago")}};return(0,o.useEffect)(()=>{e&&p()},[e]),(0,t.jsx)("div",{className:"flex-1 h-screen overflow-scroll flex flex-col justify-between text-sm",children:i?(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsx)(n.A,{})}):(0,t.jsxs)("div",{className:"md:p-10 p-4 space-y-5",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-lg font-medium",children:"Medios de Pago"}),(0,t.jsx)("button",{onClick:()=>m(!u),className:"bg-[#feecaf] text-black px-4 py-2 rounded-md hover:bg-[#feecaf]/80",children:u?"Cancelar":"Agregar Medio de Pago"})]}),u&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Nuevo Medio de Pago"}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Pago"}),(0,t.jsxs)("select",{value:g.type,onChange:e=>x({...g,type:e.target.value,category:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Seleccionar tipo"}),(0,t.jsx)("option",{value:"BANK_TRANSFER",children:"Transferencia Bancaria"}),(0,t.jsx)("option",{value:"CRYPTO",children:"Criptomoneda"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categor\xeda"}),(0,t.jsxs)("select",{value:g.category,onChange:e=>{let r=e.target.value,a="",t="";"CBU"===r?(a="AR",t="ARS"):"PIX"===r||"TED"===r?(a="BR",t="BRL"):(r.includes("USDT")||"BTC"===r||"ETH"===r||"BNB"===r)&&(a="GLOBAL",t="USD"),x({...g,category:r,country:a,currency:t})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",required:!0,disabled:!g.type,children:[(0,t.jsx)("option",{value:"",children:"Seleccionar categor\xeda"}),"BANK_TRANSFER"===g.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"CBU",children:"CBU (Argentina)"}),(0,t.jsx)("option",{value:"PIX",children:"PIX (Brasil)"}),(0,t.jsx)("option",{value:"TED",children:"TED (Brasil)"})]}),"CRYPTO"===g.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"USDT_TRON",children:"USDT TRON"}),(0,t.jsx)("option",{value:"USDT_ETHEREUM",children:"USDT Ethereum"}),(0,t.jsx)("option",{value:"USDT_BSC",children:"USDT BSC"}),(0,t.jsx)("option",{value:"USDT_POLYGON",children:"USDT Polygon"}),(0,t.jsx)("option",{value:"BTC",children:"Bitcoin"}),(0,t.jsx)("option",{value:"ETH",children:"Ethereum"}),(0,t.jsx)("option",{value:"BNB",children:"BNB"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pa\xeds"}),(0,t.jsx)("input",{type:"text",value:"AR"===g.country?"Argentina":"BR"===g.country?"Brasil":"PY"===g.country?"Paraguay":"GLOBAL"===g.country?"Global (Cripto)":"",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600",readOnly:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Moneda"}),(0,t.jsx)("input",{type:"text",value:"ARS"===g.currency?"Peso Argentino (ARS)":"BRL"===g.currency?"Real Brasile\xf1o (BRL)":"PYG"===g.currency?"Guaran\xed Paraguayo (PYG)":"USD"===g.currency?"D\xf3lar Americano (USD)":"BTC"===g.currency?"Bitcoin (BTC)":"ETH"===g.currency?"Ethereum (ETH)":"BNB"===g.currency?"BNB (BNB)":"",className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-600",readOnly:!0})]}),g.name&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Medio (Generado autom\xe1ticamente)"}),(0,t.jsx)("input",{type:"text",value:g.name,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-green-50 text-green-800 font-medium",readOnly:!0})]}),!g.type&&(0,t.jsx)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-md",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,t.jsx)("strong",{children:"Instrucciones:"})," Primero selecciona el tipo de pago (Transferencia Bancaria o Criptomoneda) para ver los campos espec\xedficos que necesitas completar."]})}),"BANK_TRANSFER"===g.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Banco"}),(0,t.jsx)("input",{type:"text",value:g.bankName,onChange:e=>{let r=e.target.value,a="";r&&g.category&&("CBU"===g.category?a="".concat(r," - CBU"):"PIX"===g.category?a="".concat(r," - PIX"):"TED"===g.category&&(a="".concat(r," - TED"))),x({...g,bankName:r,name:a})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",placeholder:"Ej: Banco Santander",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Cuenta"}),(0,t.jsx)("input",{type:"text",value:g.accountNumber,onChange:e=>x({...g,accountNumber:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",placeholder:"N\xfamero de cuenta bancaria",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Titular de la Cuenta"}),(0,t.jsx)("input",{type:"text",value:g.accountHolder,onChange:e=>x({...g,accountHolder:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",placeholder:"Nombre del titular",required:!0})]}),"CBU"===g.category&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CBU"}),(0,t.jsx)("input",{type:"text",value:g.cbu,onChange:e=>x({...g,cbu:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",placeholder:"1234567890123456789012",required:!0})]}),"PIX"===g.category&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Clave PIX"}),(0,t.jsx)("input",{type:"text",value:g.pix,onChange:e=>x({...g,pix:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",placeholder:"CPF, email, tel\xe9fono o clave aleatoria",required:!0})]}),"TED"===g.category&&(0,t.jsx)("div",{className:"p-3 bg-blue-50 rounded-md",children:(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:"Nota:"})," Para TED, solo se requiere el nombre del banco, n\xfamero de cuenta y titular. No se necesita informaci\xf3n adicional espec\xedfica."]})})]}),"CRYPTO"===g.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n de Wallet"}),(0,t.jsx)("input",{type:"text",value:g.walletAddress,onChange:e=>x({...g,walletAddress:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",placeholder:"Direcci\xf3n de la wallet",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Red"}),(0,t.jsxs)("select",{value:g.network,onChange:e=>{let r=e.target.value,a="";g.category&&r&&("USDT_TRON"===g.category?a="USDT TRON (".concat(r,")"):"USDT_ETHEREUM"===g.category?a="USDT Ethereum (".concat(r,")"):"USDT_BSC"===g.category?a="USDT BSC (".concat(r,")"):"USDT_POLYGON"===g.category?a="USDT Polygon (".concat(r,")"):"BTC"===g.category?a="Bitcoin (".concat(r,")"):"ETH"===g.category?a="Ethereum (".concat(r,")"):"BNB"===g.category&&(a="BNB (".concat(r,")"))),x({...g,network:r,name:a})},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",required:!0,children:[(0,t.jsx)("option",{value:"",children:"Seleccionar red"}),"USDT_TRON"===g.category&&(0,t.jsx)("option",{value:"TRC20",children:"TRC20 (TRON)"}),"USDT_ETHEREUM"===g.category&&(0,t.jsx)("option",{value:"ERC20",children:"ERC20 (Ethereum)"}),"USDT_BSC"===g.category&&(0,t.jsx)("option",{value:"BEP20",children:"BEP20 (Binance Smart Chain)"}),"USDT_POLYGON"===g.category&&(0,t.jsx)("option",{value:"POLYGON",children:"Polygon"}),"BTC"===g.category&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"BITCOIN",children:"Bitcoin"}),(0,t.jsx)("option",{value:"LIGHTNING",children:"Lightning Network"})]}),"ETH"===g.category&&(0,t.jsx)("option",{value:"ERC20",children:"ERC20 (Ethereum)"}),"BNB"===g.category&&(0,t.jsx)("option",{value:"BEP20",children:"BEP20 (Binance Smart Chain)"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instrucciones para el Cliente"}),(0,t.jsx)("textarea",{value:g.instructions,onChange:e=>x({...g,instructions:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",placeholder:"Instrucciones detalladas para realizar el pago",rows:3,required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto M\xednimo"}),(0,t.jsx)("input",{type:"number",value:g.minAmount,onChange:e=>x({...g,minAmount:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",placeholder:"0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Monto M\xe1ximo"}),(0,t.jsx)("input",{type:"number",value:g.maxAmount,onChange:e=>x({...g,maxAmount:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",placeholder:"999999999"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tiempo de Procesamiento"}),(0,t.jsx)("input",{type:"text",value:g.processingTime,onChange:e=>x({...g,processingTime:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#feecaf] focus:border-transparent outline-none",placeholder:"Ej: Inmediato, 1-3 d\xedas h\xe1biles"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{type:"submit",className:"bg-[#feecaf] text-black px-6 py-2 rounded-md hover:bg-[#feecaf]/80",children:"Crear Medio de Pago"}),(0,t.jsx)("button",{type:"button",onClick:()=>m(!1),className:"bg-gray-500 text-white px-6 py-2 rounded-md hover:bg-gray-600",children:"Cancelar"})]})]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:r.map(e=>(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,t.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("BANK_TRANSFER"===e.type?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:[e.category," (",e.country,")"]}),(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:e.currency}),(0,t.jsx)("h3",{className:"text-lg font-medium",children:e.name})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:["BANK_TRANSFER"===e.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Banco:"})," ",e.bankName]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Cuenta:"})," ",e.accountNumber]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Titular:"})," ",e.accountHolder]}),e.cbu&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"CBU:"})," ",(0,t.jsx)("span",{className:"font-mono",children:e.cbu})]}),e.pix&&(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"PIX:"})," ",(0,t.jsx)("span",{className:"font-mono",children:e.pix})]})]}),"CRYPTO"===e.type&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Wallet:"})," ",(0,t.jsx)("span",{className:"font-mono break-all",children:e.walletAddress})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Red:"})," ",e.network]})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Instrucciones:"})," ",e.instructions]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Monto:"})," ",e.minAmount," - ",e.maxAmount," ",e.currency]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Procesamiento:"})," ",e.processingTime]})]})]}),(0,t.jsx)("button",{onClick:()=>y(e._id),className:"text-red-600 hover:text-red-800 ml-4",children:"Eliminar"})]})},e._id))}),0===r.length&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"No hay medios de pago configurados"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Agrega un medio de pago para que los clientes puedan realizar pedidos"})]})]})})}},1598:(e,r,a)=>{"use strict";a.d(r,{A:()=>o});var t=a(5155);a(2115);let o=()=>(0,t.jsx)("div",{className:"flex justify-center items-center h-[70vh]",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-20 w-20 border-4 border-t-[#feecaf] border-gray-200"})})},3805:(e,r,a)=>{"use strict";a.d(r,{AppContextProvider:()=>u,U:()=>d});var t=a(5155),o=a(2615),s=a(2651),n=a(6046),c=a(2115),l=a(5037);let i=(0,c.createContext)(),d=()=>(0,c.useContext)(i),u=e=>{let r=(0,n.useRouter)(),{data:a,status:d}=(0,o.useSession)(),u=null==a?void 0:a.user,m=async()=>{try{if(!a)return console.log("No hay sesi\xf3n activa"),null;return"authenticated"}catch(e){return console.error("Error getting token:",e),null}},[g,x]=(0,c.useState)([]),[p,h]=(0,c.useState)([]),[y,f]=(0,c.useState)(!1),[b,N]=(0,c.useState)(!1),[j,v]=(0,c.useState)({}),[E,T]=(0,c.useState)(!0),B=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{if(T(!0),!e){let e=localStorage.getItem("quickcart_products"),r=localStorage.getItem("quickcart_products_timestamp");if(e&&r&&Date.now()-parseInt(r)<6e5){console.log("\uD83D\uDCE6 Cargando productos desde localStorage"),x(JSON.parse(e)),T(!1),C();return}}await C()}catch(e){console.error("Error loading products:",e),l.Ay.error("Error al cargar productos"),T(!1)}},C=async()=>{try{console.log("\uD83C\uDF10 Cargando productos desde Atlas (API)");let{data:e}=await s.A.get("/api/product/list",{timeout:1e4});if(e.success){let r=e.products.map(e=>({...e,minQuantity:e.minWholesaleQuantity&&e.minWholesaleQuantity>0?e.minWholesaleQuantity:1,image:e.image&&e.image.length>0&&e.image[0]&&""!==e.image[0]?e.image:["/placeholder-product.jpeg"]}));x(r),setTimeout(()=>{localStorage.setItem("quickcart_products",JSON.stringify(r)),localStorage.setItem("quickcart_products_timestamp",Date.now().toString()),console.log("\uD83D\uDCBE Productos guardados en localStorage (Atlas)")},0)}else l.Ay.error(e.message)}catch(e){console.error("Error fetching products from Atlas API:",e),l.Ay.error("Error al cargar productos desde Atlas")}finally{T(!1)}},A=async()=>{try{let{data:e}=await s.A.get("/api/categories");e.success&&h(e.categories)}catch(e){console.error("Error fetching categories:",e)}},S=async()=>{try{if(console.log("\uD83D\uDD0D [FRONTEND DEBUG] Iniciando fetchUserData..."),console.log("\uD83D\uDD0D [FRONTEND DEBUG] Usuario de NextAuth:",u?{id:u.id,email:u.email,role:u.role}:"No hay usuario"),!u){console.log("❌ [FRONTEND DEBUG] No hay usuario autenticado");return}console.log("\uD83D\uDD0D [FRONTEND DEBUG] Haciendo petici\xf3n a /api/user/data...");let{data:e}=await s.A.get("/api/user/data");console.log("\uD83D\uDD0D [FRONTEND DEBUG] Respuesta del servidor:",e),e.success?(console.log("✅ [FRONTEND DEBUG] Usuario encontrado exitosamente en la base de datos"),f(e.user),v(e.user.cartItems)):(console.log("❌ [FRONTEND DEBUG] Error del servidor:",e.message),l.Ay.error(e.message))}catch(e){console.log("❌ [FRONTEND DEBUG] Error en fetchUserData:",e.message),console.log("\uD83D\uDD0D [FRONTEND DEBUG] Error completo:",e),l.Ay.error(e.message)}},D=async e=>{if(!u)return(0,l.Ay)("Please login",{icon:"⚠️"});let r=structuredClone(j);if(r[e]?r[e]+=1:r[e]=1,v(r),u)try{await s.A.post("/api/cart/update",{cartData:r}),l.Ay.success("Item added to cart")}catch(e){l.Ay.error(e.message)}},R=async(e,r)=>{let a=structuredClone(j);if(0===r?delete a[e]:a[e]=r,v(a),u)try{await s.A.post("/api/cart/update",{cartData:a}),l.Ay.success("Cart Updated")}catch(e){l.Ay.error(e.message)}};(0,c.useEffect)(()=>{B(),A()},[]),(0,c.useEffect)(()=>{console.log("\uD83D\uDD0D [FRONTEND DEBUG] useEffect ejecutado - usuario cambi\xf3:",u?{id:u.id,email:u.email,role:u.role}:"No hay usuario"),u?(console.log("\uD83D\uDD0D [FRONTEND DEBUG] Usuario detectado, llamando fetchUserData..."),S()):(console.log("\uD83D\uDD0D [FRONTEND DEBUG] No hay usuario, limpiando datos..."),f(!1),N(!1),v({}))},[u]);let w={user:u,signOut:o.signOut,getToken:m,currency:"$",router:r,isSeller:b,setIsSeller:N,userData:y,fetchUserData:S,products:g,fetchProductData:B,categories:p,fetchCategories:A,getCategoryName:e=>{if(!e||!p.length)return"Sin categor\xeda";let r=p.find(r=>r._id===e);return r?r.name:"Sin categor\xeda"},updateProductRating:(e,r,a)=>{x(t=>t.map(t=>t._id===e?{...t,averageRating:r,totalRatings:a}:t))},isLoadingProducts:E,cartItems:j,setCartItems:v,addToCart:D,updateCartQuantity:R,getCartCount:()=>{let e=0;for(let r in j)j[r]>0&&(e+=j[r]);return e},getCartAmount:()=>{let e=0;for(let r in j){let a=g.find(e=>e._id===r);if(j[r]>0&&a){let t=a.minQuantity&&a.minQuantity>0?a.minQuantity:1;e+=(j[r]>=t?a.offerPrice:a.price)*j[r]}}return Math.floor(100*e)/100},generateCartShareUrl:()=>{let e=Object.entries(j).filter(e=>{let[r,a]=e;return a>0});if(0===e.length)return null;let r=e.map(e=>{let[r,a]=e;return"".concat(r,":").concat(a)}).join(",");return"".concat(window.location.origin,"/cart?products=").concat(encodeURIComponent(r))}};return(0,t.jsx)(i.Provider,{value:w,children:e.children})}}},e=>{var r=r=>e(e.s=r);e.O(0,[5037,2651,3060,8441,1517,7358],()=>r(3412)),_N_E=e.O()}]);