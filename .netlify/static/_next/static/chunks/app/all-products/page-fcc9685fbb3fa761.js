(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8385],{6475:(e,s,r)=>{Promise.resolve().then(r.bind(r,5820))},5820:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>f});var t=r(5155),a=r(1189),l=r(2115);r(6962);var o=r(5565),c=r(3805),i=r(2885);let n=e=>{let{product:s}=e,{currency:r,router:a,getCategoryName:l}=(0,c.U)();return(0,t.jsxs)("div",{onClick:()=>{a.push("/product/"+s._id),scrollTo(0,0)},className:"flex items-center gap-4 p-4 border border-gray-200 rounded-lg hover:shadow-md transition-shadow cursor-pointer bg-white",children:[(0,t.jsx)("div",{className:"relative bg-gray-500/10 rounded-lg w-24 h-24 flex items-center justify-center flex-shrink-0",children:s.image&&s.image[0]?(0,t.jsx)(o.default,{src:s.image[0],alt:s.name,className:"object-cover w-full h-full rounded-lg",width:96,height:96}):(0,t.jsx)(o.default,{src:"/placeholder-product.jpeg",alt:s.name,className:"object-cover w-full h-full rounded-lg",width:96,height:96})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 truncate",children:s.name}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:s.description}),(0,t.jsx)("p",{className:"text-sm text-blue-600 font-medium capitalize mt-1",children:l(s.category)}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-2",children:(0,t.jsx)(i.A,{rating:s.averageRating||0,totalRatings:s.totalRatings||0,size:"sm",showCount:!0})})]}),(0,t.jsxs)("div",{className:"flex flex-col items-end gap-2",children:[(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[r,s.offerPrice]}),s.price!==s.offerPrice&&(0,t.jsxs)("p",{className:"text-sm text-gray-500 line-through",children:[r,s.price]})]}),(0,t.jsx)("button",{className:"px-4 py-2 bg-black text-white rounded-lg text-sm hover:bg-gray-800 transition-colors",children:"Ver detalles"})]})]})},d=e=>{var s,r;let{onFiltersChange:a,categories:o=[],priceRange:i={min:0,max:1e3},selectedFilters:n={}}=e,{products:d,categories:m,getCategoryName:x}=(0,c.U)(),[g,u]=(0,l.useState)(n),h=[...new Set(d.map(e=>e.category))].filter(Boolean).map(e=>({id:e,name:x(e)})),p=d.map(e=>e.offerPrice).filter(e=>e>0),b=Math.min(...p),f=Math.max(...p),j=(e,s)=>{let r={...g};if("categories"===e){var t;(null===(t=r.categories)||void 0===t?void 0:t.includes(s))?r.categories=r.categories.filter(e=>e!==s):r.categories=[...r.categories||[],s]}else"priceRange"===e?r.priceRange=s:"inStock"===e&&(r.inStock=s);u(r),a(r)};return(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Filtros"}),(0,t.jsx)("button",{onClick:()=>{let e={};u(e),a(e)},className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Limpiar todo"})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Categor\xedas"}),(0,t.jsx)("div",{className:"space-y-2",children:h.map(e=>{var s;return(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:(null===(s=g.categories)||void 0===s?void 0:s.includes(e.id))||!1,onChange:()=>j("categories",e.id),className:"h-4 w-4 text-black focus:ring-black border-gray-300 rounded"}),(0,t.jsxs)("span",{className:"ml-2 text-sm text-gray-700 capitalize",children:[e.name," (",d.filter(s=>s.category===e.id).length,")"]})]},e.id)})})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Rango de precios"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"number",placeholder:"M\xedn",value:(null===(s=g.priceRange)||void 0===s?void 0:s.min)||"",onChange:e=>j("priceRange",{...g.priceRange,min:parseFloat(e.target.value)||0}),className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-black"}),(0,t.jsx)("span",{className:"text-gray-500",children:"-"}),(0,t.jsx)("input",{type:"number",placeholder:"M\xe1x",value:(null===(r=g.priceRange)||void 0===r?void 0:r.max)||"",onChange:e=>j("priceRange",{...g.priceRange,max:parseFloat(e.target.value)||f}),className:"w-20 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-black"})]}),(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:["Rango: $",b," - $",f]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Disponibilidad"}),(0,t.jsxs)("label",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:g.inStock||!1,onChange:e=>j("inStock",e.target.checked),className:"h-4 w-4 text-black focus:ring-black border-gray-300 rounded"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Solo productos disponibles"})]})]}),(0,t.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[d.length," productos encontrados"]})})]})};var m=r(1536);let x=e=>{let{viewMode:s,onViewModeChange:r,sortBy:a,onSortChange:l,productCount:o,showFilters:c,onToggleFilters:i}=e;return(0,t.jsx)("div",{className:"bg-white border-b border-gray-200 p-4",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[o," producto",1!==o?"s":""," encontrado",1!==o?"s":""]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("button",{onClick:i,className:"sm:hidden flex items-center gap-2 px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-gray-50",children:[(0,t.jsx)(m.YsJ,{className:"w-4 h-4"}),"Filtros"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.EDF,{className:"w-4 h-4 text-gray-500"}),(0,t.jsx)("select",{value:a,onChange:e=>l(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-black focus:border-transparent",children:[{value:"name",label:"Nombre A-Z"},{value:"name-desc",label:"Nombre Z-A"},{value:"price-asc",label:"Precio: Menor a Mayor"},{value:"price-desc",label:"Precio: Mayor a Menor"},{value:"newest",label:"M\xe1s recientes"},{value:"oldest",label:"M\xe1s antiguos"}].map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg overflow-hidden",children:[(0,t.jsx)("button",{onClick:()=>r("grid"),className:"p-2 transition-colors ".concat("grid"===s?"bg-black text-white":"bg-white text-gray-600 hover:bg-gray-50"),title:"Vista de cuadr\xedcula",children:(0,t.jsx)(m.QJV,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>r("list"),className:"p-2 transition-colors ".concat("list"===s?"bg-black text-white":"bg-white text-gray-600 hover:bg-gray-50"),title:"Vista de lista",children:(0,t.jsx)(m.svy,{className:"w-4 h-4"})})]})]})]})})};var g=r(3996),u=r(846),h=r(8378),p=r(6046);let b=()=>{let{products:e}=(0,c.U)(),s=(0,p.useSearchParams)(),[r,o]=(0,l.useState)([]),[i,m]=(0,l.useState)(""),[b,f]=(0,l.useState)("grid"),[j,v]=(0,l.useState)("name"),[y,N]=(0,l.useState)({}),[w,k]=(0,l.useState)(!1),C=(e,s)=>{if(!e.trim())return s;let r=e.toLowerCase().trim();return s.filter(e=>{let s=e.name.toLowerCase().includes(r),t=e.description.toLowerCase().includes(r),a=e.category.toLowerCase().includes(r),l=e.price.toString().includes(r)||e.offerPrice.toString().includes(r),o=e.minQuantity.toString().includes(r),c=r.split(" ").filter(e=>e.length>0),i=c.some(s=>e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||e.category.toLowerCase().includes(s)||e.price.toString().includes(s)||e.offerPrice.toString().includes(s)),n=c.some(s=>Object.entries({telefono:["phone","celular","m\xf3vil","smartphone"],laptop:["notebook","computadora","pc"],auricular:["headphone","aud\xedfono","cascos"],cargador:["charger","cable"],fund:["funda","case","estuche"],barato:["econ\xf3mico","low","cheap"],caro:["costoso","expensive","premium"]}).some(r=>{let[t,a]=r;return s===t&&e.name.toLowerCase().includes(s)||a.some(r=>s===r&&(e.name.toLowerCase().includes(r)||e.description.toLowerCase().includes(r)||e.category.toLowerCase().includes(r)))}));return s||t||a||l||o||i||n})},S=e=>{let s=[...e];if(y.categories&&y.categories.length>0&&(s=s.filter(e=>y.categories.includes(e.category))),y.priceRange){let{min:e,max:r}=y.priceRange;s=s.filter(s=>{let t=s.offerPrice;return t>=(e||0)&&t<=(r||1/0)})}return y.inStock&&(s=s.filter(e=>e.stock>0)),s},L=e=>{let s=[...e];switch(j){case"name":return s.sort((e,s)=>e.name.localeCompare(s.name));case"name-desc":return s.sort((e,s)=>s.name.localeCompare(e.name));case"price-asc":return s.sort((e,s)=>e.offerPrice-s.offerPrice);case"price-desc":return s.sort((e,s)=>s.offerPrice-e.offerPrice);case"newest":return s.sort((e,s)=>new Date(s.createdAt||0)-new Date(e.createdAt||0));case"oldest":return s.sort((e,s)=>new Date(e.createdAt||0)-new Date(s.createdAt||0));default:return s}};return(0,l.useEffect)(()=>{let r=s.get("search"),t=e;r?(m(r),t=C(r,e)):m(""),o(t=L(t=S(t)))},[s,e,y,j]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.A,{}),(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#feecaf]/5 via-transparent to-yellow-300/5"}),(0,t.jsx)("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-[#feecaf]/10 to-transparent rounded-full blur-3xl"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 w-80 h-80 bg-gradient-to-tr from-yellow-300/10 to-transparent rounded-full blur-3xl"}),(0,t.jsx)("div",{className:"relative z-10 px-6 md:px-16 lg:px-32 py-12",children:(0,t.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#feecaf] to-yellow-300 text-gray-800 px-4 py-2 rounded-full text-sm font-semibold mb-4",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),i?"Resultados de b\xfasqueda":"Cat\xe1logo completo"]}),(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4",children:i?(0,t.jsxs)(t.Fragment,{children:["Resultados para ",(0,t.jsxs)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#feecaf] to-yellow-300",children:['"',i,'"']})]}):(0,t.jsxs)(t.Fragment,{children:["Todos los ",(0,t.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-[#feecaf] to-yellow-300",children:"Productos"})]})}),(0,t.jsx)("p",{className:"text-gray-600 text-lg max-w-2xl",children:i?"Encontramos ".concat(r.length," producto").concat(1!==r.length?"s":""," que coinciden con tu b\xfasqueda"):"Descubre nuestra amplia gama de productos de tecnolog\xeda y electr\xf3nicos"}),(0,t.jsx)("div",{className:"w-24 h-1 bg-gradient-to-r from-[#feecaf] to-yellow-300 rounded-full mt-6"})]})})]}),(0,t.jsx)("div",{className:"px-6 md:px-16 lg:px-32 py-8",children:(0,t.jsxs)("div",{className:"flex gap-8",children:[(0,t.jsx)("div",{className:"hidden lg:block w-72 flex-shrink-0",children:(0,t.jsx)("div",{className:"sticky top-24",children:(0,t.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-6",children:(0,t.jsx)(d,{onFiltersChange:N,selectedFilters:y})})})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-6 mb-8",children:(0,t.jsx)(x,{viewMode:b,onViewModeChange:f,sortBy:j,onSortChange:v,productCount:r.length,showFilters:w,onToggleFilters:()=>k(!w)})}),w&&(0,t.jsx)("div",{className:"lg:hidden mb-8",children:(0,t.jsx)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-6",children:(0,t.jsx)(d,{onFiltersChange:N,selectedFilters:y})})}),r.length>0?(0,t.jsx)("div",{className:"space-y-8",children:"grid"===b?(0,t.jsx)("div",{className:"flex flex-wrap gap-6 justify-center",children:r.map((e,s)=>(0,t.jsx)(a.A,{product:e},s))}):(0,t.jsx)("div",{className:"space-y-4",children:r.map((e,s)=>(0,t.jsx)(n,{product:e},s))})}):(0,t.jsx)("div",{className:"text-center py-16",children:(0,t.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-12",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"No se encontraron productos"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:i?"Intenta con otros t\xe9rminos de b\xfasqueda o ajusta los filtros":"Ajusta los filtros para ver m\xe1s productos"}),i&&(0,t.jsx)("button",{onClick:()=>{m(""),N({})},className:"px-6 py-3 bg-gradient-to-r from-[#feecaf] to-yellow-300 text-gray-800 rounded-xl font-semibold hover:from-yellow-300 hover:to-[#feecaf] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105",children:"Limpiar b\xfasqueda"})]})})]})]})})]}),(0,t.jsx)(u.A,{}),(0,t.jsx)(h.A,{})]})},f=()=>(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-[#feecaf]"})}),children:(0,t.jsx)(b,{})})}},e=>{var s=s=>e(e.s=s);e.O(0,[5479,6711,5037,2651,3060,5565,8007,358,6962,3996,846,5630,8441,1517,7358],()=>s(6475)),_N_E=e.O()}]);